(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dae97"],{"6e2d":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"position-absolute top-0 right-0 text-right mt-5 mb-15 mb-lg-0 flex-column-auto justify-content-center py-5 px-10"},[n("span",{staticClass:"font-weight-bold font-size-3 text-dark-60"},[t._v(t._s(t.$t("PAGE.AUTH.NO_ACCOUNT")))]),n("router-link",{staticClass:"font-weight-bold font-size-3 ml-2",attrs:{to:{name:"register"}}},[t._v(t._s(t.$t("PAGE.AUTH.SIGN_UP"))+"!")])],1),n("div",{staticClass:"login-form login-signin"},[n("div",{staticClass:"text-center mb-10 mb-lg-20"},[n("h3",{staticClass:"font-size-h1"},[t._v(t._s(t.$t("PAGE.AUTH.SIGN_IN")))])]),t.showGoogleLogin?n("b-button",{staticClass:"w-100",attrs:{variant:"primary"},on:{click:function(e){return t.handleClickSignIn()}}},[n("font-awesome-icon",{staticStyle:{float:"left"},attrs:{icon:["fab","google"],size:"lg"}}),t._v(" "+t._s(t.$t("PAGE.AUTH.GOOGLE_SIGN_IN"))+" ")],1):t._e(),t.showGoogleLogin?n("div",{staticClass:"hr-label"},[n("span",{staticClass:"hr-label text"},[t._v(t._s(t.$t("PAGE.AUTH.OR")))])]):t._e(),n("b-form",{staticClass:"form",staticStyle:{width:"400px"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit(e)}}},[n("div",{staticClass:"alert fade alert-danger",class:{show:t.error},attrs:{role:"alert"}},[n("div",{staticClass:"alert-text"},[t._v(t._s(t.error))])]),n("b-form-group",{attrs:{label:t.$t("PAGE.AUTH.EMAIL")}},[n("b-input-group",{staticClass:"mt-3"},[n("b-input-group-prepend",{attrs:{"is-text":""}},[n("font-awesome-icon",{attrs:{icon:"envelope"}})],1),n("b-form-input",{attrs:{state:t.emailValidation,required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),n("b-form-invalid-feedback",{attrs:{state:t.emailValidation}},[t._v(" "+t._s(t.$t("PAGE.AUTH.INVALID_EMAIL"))+" ")])],1)],1),n("b-form-group",{attrs:{label:t.$t("PAGE.AUTH.PASSWORD")}},[n("b-input-group",{staticClass:"mt-3"},[n("b-input-group-prepend",{attrs:{"is-text":""}},[n("font-awesome-icon",{attrs:{icon:"key"}})],1),n("b-form-input",{attrs:{type:"password",required:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1),n("div",{staticClass:"form-group d-flex flex-wrap justify-content-between align-items-center"},[n("router-link",{staticClass:"font-weight-bold font-size-3 ml-2",attrs:{to:{name:"reset"}}},[t._v(t._s(t.$t("PAGE.AUTH.FORGOT")))]),n("b-button",{ref:"kt_login_signin_submit",attrs:{variant:"primary"},on:{click:function(e){return t.onSubmit()}}},[n("font-awesome-icon",{staticClass:"mr-2 mt-1",attrs:{icon:"sign-in-alt",size:"lg"}}),t._v(" "+t._s(t.$t("PAGE.AUTH.SIGN_IN")))],1)],1)],1)],1)])},i=[],s=(n("99af"),n("a34a")),r=n.n(s),a=(n("96cf"),n("1da1")),c=n("2b0e"),l=n("bdc2"),u=n("19e8"),h=n("7684"),f=n("352e"),p=n("db49"),d=function(){function t(){var t="https://apis.google.com/js/api.js";return new Promise(e=>{var n=document.createElement("script");n.src=t,n.onreadystatechange=n.onload=function(){n.readyState&&!/loaded|complete/.test(n.readyState)||setTimeout((function(){e()}),500)},document.getElementsByTagName("head")[0].appendChild(n)})}function e(t){return new Promise((e,n)=>{window.gapi.load("auth2",()=>{window.gapi.auth2.init(t).then(()=>{e(window.gapi)}).catch(t=>{n(t)})})})}function n(){if(!(this instanceof n))return new n;this.GoogleAuth=null,this.isAuthorized=!1,this.isInit=!1,this.prompt=null,this.isLoaded=function(){return console.warn('isLoaded() will be deprecated. You can use "this.$gAuth.isInit"'),!!this.GoogleAuth},this.load=(n,o)=>{t().then(()=>e(n)).then(t=>{this.GoogleAuth=t.auth2.getAuthInstance(),this.isInit=!0,this.prompt=o,this.isAuthorized=this.GoogleAuth.isSignedIn.get()}).catch(t=>{console.error(t)})},this.signIn=(t,e)=>new Promise((n,o)=>{if(!this.GoogleAuth)return"function"===typeof e&&e(!1),void o(!1);this.GoogleAuth.signIn().then(e=>{"function"===typeof t&&t(e),this.isAuthorized=this.GoogleAuth.isSignedIn.get(),n(e)}).catch(t=>{"function"===typeof e&&e(t),o(t)})}),this.getAuthCode=(t,e)=>new Promise((n,o)=>{if(!this.GoogleAuth)return"function"===typeof e&&e(!1),void o(!1);this.GoogleAuth.grantOfflineAccess({prompt:this.prompt}).then((function(e){"function"===typeof t&&t(e.code),n(e.code)})).catch((function(t){"function"===typeof e&&e(t),o(t)}))}),this.signOut=(t,e)=>new Promise((n,o)=>{if(!this.GoogleAuth)return"function"===typeof e&&e(!1),void o(!1);this.GoogleAuth.signOut().then(()=>{"function"===typeof t&&t(),this.isAuthorized=!1,n(!0)}).catch(t=>{"function"===typeof e&&e(t),o(t)})})}return new n}();function m(t,e){let n=null,o={scope:"profile email"},i="select_account";"object"===typeof e?(n=Object.assign(o,e),e.scope&&(n.scope=e.scope),e.prompt&&(i=e.prompt),e.clientId||console.warn("clientId is required")):console.warn("invalid option type. Object type accepted only"),t.gAuth=d,Object.defineProperties(t.prototype,{$gAuth:{get:function(){return t.gAuth}}}),t.gAuth.load(n,i)}var g=m,b={data:function(){return{form:{email:Object(u["a"])(),password:null},error:null}},beforeMount:function(){this.showGoogleLogin&&c["a"].use(g,{clientId:p["c"],scope:"email",prompt:"consent",fetch_basic_profile:!0})},computed:{emailValidation:function(){return null==this.form.email?null:Object(h["d"])(this.form.email)},showGoogleLogin:function(){return"en"===f["a"].getActiveLanguage()}},methods:{resetForm:function(){var t=this;this.form={email:null,password:null},this.$nextTick((function(){t.$v.$reset()}))},onSubmit:function(){var t=this,e=this.form.email,n=this.form.password;Object(u["f"])();var o=this.$refs["kt_login_signin_submit"];Object(h["b"])(o);var i="email=".concat(e,"&password=").concat(n);Object(l["g"])(i).then((function(e){if(e.value){window._paq.push(["trackEvent","user event","login",Object(u["a"])()]);var n=localStorage.getItem("preRoute");null==n||"/register"===n?t.$router.push({name:"index"}):(localStorage.removeItem("preRoute"),t.$router.push({path:n}))}else t.error=e.error,Object(h["c"])(o)}))},handleClickSignIn:function(){var t=this;return Object(a["a"])(r.a.mark((function e(){var n,o;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$gAuth.signIn();case 3:if(n=e.sent,n){e.next=6;break}return e.abrupt("return",null);case 6:o=n.getAuthResponse().id_token,console.log("ID Token: "+o),t.onAuth2(o),t.isSignIn=t.$gAuth.isAuthorized,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()},onAuth2:function(t){var e=this;Object(u["f"])(),Object(u["h"])(t),Object(l["h"])().then((function(t){t.value?(window._paq.push(["trackEvent","user event","login oauth2",Object(u["a"])()]),e.$router.push({name:"index"})):e.error=t.error}))}}},A=b,w=n("2877"),v=Object(w["a"])(A,o,i,!1,null,null,null);e["default"]=v.exports}}]);