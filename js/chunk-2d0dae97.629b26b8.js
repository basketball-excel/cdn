(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dae97"],{"6e2d":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"position-absolute top-0 right-0 text-right mt-5 mb-15 mb-lg-0 flex-column-auto justify-content-center py-5 px-10"},[o("span",{staticClass:"font-weight-bold font-size-3 text-dark-60"},[t._v(t._s(t.$t("PAGE.AUTH.NO_ACCOUNT")))]),o("router-link",{staticClass:"font-weight-bold font-size-3 ml-2",attrs:{to:{name:"register"}}},[t._v(t._s(t.$t("PAGE.AUTH.SIGN_UP"))+"!")])],1),o("div",{staticClass:"login-form login-signin"},[o("div",{staticClass:"text-center mb-10 mb-lg-20"},[o("h3",{staticClass:"font-size-h1"},[t._v(t._s(t.$t("PAGE.AUTH.SIGN_IN")))])]),t.showGoogleLogin?o("b-button",{staticClass:"w-100",attrs:{variant:"primary"},on:{click:function(e){return t.handleClickSignIn()}}},[o("font-awesome-icon",{staticStyle:{float:"left"},attrs:{icon:["fab","google"],size:"lg"}}),t._v(" "+t._s(t.$t("PAGE.AUTH.GOOGLE_SIGN_IN"))+" ")],1):t._e(),t.showGoogleLogin?o("div",{staticClass:"hr-label"},[o("span",{staticClass:"hr-label text"},[t._v(t._s(t.$t("PAGE.AUTH.OR")))])]):t._e(),o("b-form",{staticClass:"form",staticStyle:{width:"400px"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit(e)}}},[o("b-alert",{staticClass:"mt-3",attrs:{show:null!=t.errorCode,dismissible:"",variant:"warning"}},[t._v(" "+t._s(t.errorMessage)+" ")]),o("b-form-group",{attrs:{label:t.$t("PAGE.AUTH.EMAIL")}},[o("b-input-group",{staticClass:"mt-3"},[o("b-input-group-prepend",{attrs:{"is-text":""}},[o("font-awesome-icon",{attrs:{icon:"envelope"}})],1),o("b-form-input",{attrs:{state:t.emailValidation,required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),o("b-form-invalid-feedback",{attrs:{state:t.emailValidation}},[t._v(" "+t._s(t.$t("PAGE.AUTH.INVALID_EMAIL"))+" ")])],1)],1),o("b-form-group",{attrs:{label:t.$t("PAGE.AUTH.PASSWORD")}},[o("b-input-group",{staticClass:"mt-3"},[o("b-input-group-prepend",{attrs:{"is-text":""}},[o("font-awesome-icon",{attrs:{icon:"key"}})],1),o("b-form-input",{attrs:{type:"password",required:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1),o("div",{staticClass:"form-group d-flex flex-wrap justify-content-between align-items-center"},[o("router-link",{staticClass:"font-weight-bold font-size-3 ml-2",attrs:{to:{name:"reset"}}},[t._v(t._s(t.$t("PAGE.AUTH.FORGOT")))]),o("b-button",{ref:"kt_login_signin_submit",attrs:{variant:"primary"},on:{click:function(e){return t.onSubmit()}}},[o("font-awesome-icon",{staticClass:"mr-2 mt-1",attrs:{icon:"sign-in-alt",size:"lg"}}),t._v(" "+t._s(t.$t("PAGE.AUTH.SIGN_IN"))+" ")],1)],1)],1)],1)])},i=[],s=(o("99af"),o("a34a")),r=o.n(s),a=(o("96cf"),o("1da1")),c=o("5530"),l=o("2b0e"),u=o("2f62"),h=o("bdc2"),f=o("19e8"),p=o("7684"),d=o("87d7"),g=o("352e"),m=o("db49"),b=function(){function t(){var t="https://apis.google.com/js/api.js";return new Promise(e=>{var o=document.createElement("script");o.src=t,o.onreadystatechange=o.onload=function(){o.readyState&&!/loaded|complete/.test(o.readyState)||setTimeout((function(){e()}),500)},document.getElementsByTagName("head")[0].appendChild(o)})}function e(t){return new Promise((e,o)=>{window.gapi.load("auth2",()=>{window.gapi.auth2.init(t).then(()=>{e(window.gapi)}).catch(t=>{o(t)})})})}function o(){if(!(this instanceof o))return new o;this.GoogleAuth=null,this.isAuthorized=!1,this.isInit=!1,this.prompt=null,this.isLoaded=function(){return console.warn('isLoaded() will be deprecated. You can use "this.$gAuth.isInit"'),!!this.GoogleAuth},this.load=(o,n)=>{t().then(()=>e(o)).then(t=>{this.GoogleAuth=t.auth2.getAuthInstance(),this.isInit=!0,this.prompt=n,this.isAuthorized=this.GoogleAuth.isSignedIn.get()}).catch(t=>{console.error(t)})},this.signIn=(t,e)=>new Promise((o,n)=>{if(!this.GoogleAuth)return"function"===typeof e&&e(!1),void n(!1);this.GoogleAuth.signIn().then(e=>{"function"===typeof t&&t(e),this.isAuthorized=this.GoogleAuth.isSignedIn.get(),o(e)}).catch(t=>{"function"===typeof e&&e(t),n(t)})}),this.getAuthCode=(t,e)=>new Promise((o,n)=>{if(!this.GoogleAuth)return"function"===typeof e&&e(!1),void n(!1);this.GoogleAuth.grantOfflineAccess({prompt:this.prompt}).then((function(e){"function"===typeof t&&t(e.code),o(e.code)})).catch((function(t){"function"===typeof e&&e(t),n(t)}))}),this.signOut=(t,e)=>new Promise((o,n)=>{if(!this.GoogleAuth)return"function"===typeof e&&e(!1),void n(!1);this.GoogleAuth.signOut().then(()=>{"function"===typeof t&&t(),this.isAuthorized=!1,o(!0)}).catch(t=>{"function"===typeof e&&e(t),n(t)})})}return new o}();function A(t,e){let o=null,n={scope:"profile email"},i="select_account";"object"===typeof e?(o=Object.assign(n,e),e.scope&&(o.scope=e.scope),e.prompt&&(i=e.prompt),e.clientId||console.warn("clientId is required")):console.warn("invalid option type. Object type accepted only"),t.gAuth=b,Object.defineProperties(t.prototype,{$gAuth:{get:function(){return t.gAuth}}}),t.gAuth.load(o,i)}var w=A,v={data:function(){return{form:{email:Object(f["c"])(),password:null},errorCode:null}},beforeMount:function(){this.showGoogleLogin&&l["a"].use(w,{clientId:m["d"],scope:"email",prompt:"consent",fetch_basic_profile:!0})},computed:{emailValidation:function(){return null==this.form.email?null:Object(p["d"])(this.form.email)},showGoogleLogin:function(){return"en"===g["a"].getActiveLanguage()},errorMessage:function(){return this.$t("PAGE.ERROR.".concat(this.errorCode))}},methods:Object(c["a"])(Object(c["a"])({},Object(u["c"])([d["a"].LOGOUT_MUTATION])),{},{resetForm:function(){var t=this;this.form={email:null,password:null},this.$nextTick((function(){return t.$v.$reset()}))},onSubmit:function(){var t=this,e=this.form.email,o=this.form.password;this.logout();var n=this.$refs["kt_login_signin_submit"];Object(p["b"])(n);var i="email=".concat(e,"&password=").concat(o);Object(h["g"])(i).then((function(e){if(console.log("response :>> ",e),null!=e.errorCode)t.errorCode=e.errorCode;else{var o=localStorage.getItem("preRoute");null==o?t.$router.push({name:"index"}):(localStorage.removeItem("preRoute"),t.$router.push({path:o}))}Object(p["c"])(n)}))},handleClickSignIn:function(){var t=this;return Object(a["a"])(r.a.mark((function e(){var o,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$gAuth.signIn();case 3:if(o=e.sent,o){e.next=6;break}return e.abrupt("return",null);case 6:n=o.getAuthResponse().id_token,t.onAuth2(n),t.isSignIn=t.$gAuth.isAuthorized,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},onAuth2:function(t){var e=this;this.logout();var o="token=".concat(t,"&language=").concat(g["a"].getActiveLanguage());Object(h["h"])(o).then((function(t){null!=t.errorCode?e.errorCode=t.errorCode:e.$router.push({name:"index"})}))}})},_=v,G=o("2877"),C=Object(G["a"])(_,n,i,!1,null,null,null);e["default"]=C.exports}}]);